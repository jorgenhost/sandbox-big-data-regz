install.packages('bspm')
bspm::enable()
#install.packages('bspm')
bspm::enable()
#install.packages("DBI")
install.packages("duckdb")
install.packages('packages/dbreg_0.0.2.99.tar.gz', repos = NULL, type='source')
#install.packages('bspm')
bspm::enable()
#install.packages("DBI")
install.packages("duckdb")
install.packages('packages/dbreg_0.0.2.99.tar.gz', repos = NULL, type='source')
#library(duckdb)
library(dbreg)
library(duckdb)
install.packages("DBI")
install.packages("duckdb")
install.packages('packages/dbreg_0.0.2.99.tar.gz', repos = NULL, type='source')
#install.packages("DBI")
#install.packages("duckdb")
install.packages('packages/dbreg_0.0.2.99.tar.gz', repos = NULL, type='source')
library(duckdb)
library(duckdb)
install.packages('bspm')
bspm::enable()
install.packages('duckdb')  # Will now use binaries automatically
install.packages('bspm')
#install.packages('bspm')
bspm::enable()
install.packages('duckdb')  # Will now use binaries automatically
#install.packages("DBI")
install.packages("duckdb")
#install.packages("DBI")
#install.packages("duckdb")
install.packages('packages/dbreg_0.0.2.99.tar.gz', repos = NULL, type='source')
library(duckdb)
library(dbreg)
library(modelsummary)
res = dbreg(tip_amount ~ fare_amount + passenger_count | week_x_weekday + month + VendorID,
path = "read_parquet('nyc-taxi/**/*.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "model.rds")
res = dbreg(tip_amount ~ fare_amount + passenger_count | week_x_weekday + factor(month, ref = 5) + VendorID,
path = "read_parquet('nyc-taxi/**/*.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "model.rds")
print(res, fes =TRUE)
res = readRDS("model.rds")
# We are interested in the full coeftable
res$coeftable
res = dbreg(tip_amount ~ fare_amount + passenger_count | week_x_weekday + relevel(factor(month), ref = "7") + VendorID,
path = "read_parquet('nyc-taxi/**/*.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "model.rds")
res = readRDS("model.rds")
# We are interested in the full coeftable
res$coeftable
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
# Describe the columns and types of the parquet table (read_parquet is a table function)
DBI::dbGetQuery(con, "DESCRIBE SELECT * FROM read_parquet('nyc-taxi/**/*.pq')")
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
# Describe the columns and types of the parquet table (read_parquet is a table function)
DBI::dbGetQuery(con, "DESCRIBE SELECT * FROM read_parquet('temp.pq')")
res = dbreg(tip_amount ~ fare_amount + passenger_count | week_x_weekday + relevel(factor(month), ref = "7") + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + passenger_cat + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + passenger_cat + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + passenger_cat + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + passenger_cat + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + temp + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount | week_x_weekday + temp_col + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + week + VendorID,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + weekday,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + weekday,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
res = readRDS("model.rds")
# We are interested in the full coeftable
res$coeftable
res = dbreg(tip_amount ~ fare_amount + passenger_count | month + weekday,
path = "read_parquet('temp.pq')", ## path to hive-partitioned dataset
vcov = "hc1")
saveRDS(res, "modeltemp.rds")
res$coeftable
